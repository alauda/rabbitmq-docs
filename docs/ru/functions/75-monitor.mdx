---
weight: 75
sourceSHA: 11c51127505716475bb860d36934dc7e757808a283bc4f8a19f45d2283df482e
---

# Мониторинг и Оповещения

Данные мониторинга, представленные в встроенной панели, могут использоваться для мониторинга RabbitMQ и оповещений в отношении ресурсов, производительности и т. д., и поддерживают настройку стратегий уведомлений.

Интуитивно представленные данные мониторинга могут помочь в принятии решений для операционных проверок или настройки производительности, а комплексный механизм оповещений и уведомлений поможет обеспечить стабильную работу базы данных.

## Мониторинг

Платформа по умолчанию собирает общие метрики мониторинга для ресурсов RabbitMQ, производительности и т. д. На вкладке **Мониторинг** экземпляра можно просмотреть данные мониторинга в реальном времени для этих метрик.

| Категория                  | Метрики                                                                          |
| -------------------------- | -------------------------------------------------------------------------------- |
| **Мониторинг узла**       | Мониторинг доступной памяти узла, диска, дескрипторов файлов и других метрик    |
| **Мониторинг сообщений**   | Мониторинг отправленных и полученных сообщений                                   |
| **Мониторинг очередей**    | Общий мониторинг очередей                                                        |
| **Мониторинг каналов**     | Общий мониторинг каналов                                                         |
| **Мониторинг соединений**  | Общий мониторинг клиентских соединений                                            |

> Метрики RabbitMQ в основном выставляют общие метрики для различных компонентов; таким образом, панель мониторинга по умолчанию не может точно мониторить состояние конкретной `Очереди` или `Exchange`.

## Оповещения

Перейдите на страницу **Оповещения** > **Политики оповещений** Службы приложений, чтобы создать политику оповещения, соответствующую RabbitMQ (вы также можете использовать общую функцию оповещений платформы для создания оповещений).

### Настройка политик оповещения

Чтобы включить оповещения, сначала создайте политику оповещения в Службе приложений. Политика оповещения описывает объекты, которые вы хотите мониторить, при каких условиях вы хотите получать оповещения и как вас должны уведомлять о связанных оповещениях.

Платформа включает следующие встроенные метрики оповещения:

| Название                       | Рекомендуемые условия срабатывания                                        | Описание                                                                                       |
| :----------------------------- | :------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------- |
| Доступность экземпляра         | !=1, и продолжается в течение 30 секунд                                   | Мониторинг доступности кластера                                                                |
| Количество каналов             | Установите пороги на основе реальных спецификаций и клиентских приложений  | Мониторинг количества каналов в реальном времени                                              |
| Частота записи сообщений       | Установите пороги на основе реальных спецификаций                         | Мониторинг частоты записи сообщений в реальном времени                                         |
| Количество соединений          | Установите пороги на основе реальных спецификаций                         | Мониторинг количества соединений в реальном времени                                           |
| Количество очередей            | Установите пороги на основе реальных спецификаций                         | Мониторинг количества очередей в реальном времени                                              |
| Использование CPU узла         | >80%, и продолжается в течение 30 секунд                                   | Мониторинг использования процессора в реальном времени; если использование CPU слишком высоко, рассмотрите возможность масштабирования. |
| Использование памяти узла      | >80%, и продолжается в течение 30 секунд                                   | Мониторинг использования памяти в реальном времени; если использование памяти слишком высоко, масштабирование необходимо незамедлительно. |
| Использование дискового пространства узла | >80%, и продолжается в течение 30 секунд                                   | Мониторинг использования дискового пространства в реальном времени; если использование слишком высоко, рассмотрите возможность масштабирования. |

Эти метрики оповещения позволяют быстро создавать политики оповещения.

Кроме встроенных метрик оповещения, также можно определить пользовательские метрики оповещения. Для пользовательских оповещений необходимо отредактировать PromQL самостоятельно и отправить его в форму метрики оповещения. PromQL — это относительно сложное выражение, которое можно редактировать и отлаживать с помощью встроенной консоли Prometheus. Для базовой поддержки PromQL, пожалуйста, обратитесь к [официальной документации PromQL](https://prometheus.io/docs/prometheus/latest/querying/basics/).

Для получения дополнительной информации о настройке и использовании оповещений, пожалуйста, обратитесь к <ExternalSiteLink name="acp" href="appservice/unified-om/alert-policy-mgt/index" children="Управление Оповещениями" />.
